{"ast":null,"code":"import _slicedToArray from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/src/components/BlogInfo.js\";\nimport React, { useState } from 'react';\nimport blogService from '../services/blogs';\n\nconst BlogInfo = ({\n  blog,\n  blogs,\n  handleBlogs,\n  user\n}) => {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        visibleRemoval = _useState2[0],\n        setVisibleRemoval = _useState2[1];\n\n  const hideWhenNoAuthorization = {\n    display: visibleRemoval ? 'none' : ''\n  };\n  const showWhenNoAuthorization = {\n    display: visibleRemoval ? '' : 'none'\n  };\n\n  const increaseLikes = async () => {\n    blog.likes += 1;\n    const response = await blogService.update(blog);\n    const someBlogs = blogs.filter(otherBlogs => otherBlogs.id !== response.id);\n    const allBlogs = someBlogs.concat(response);\n    const sortedBlogs = allBlogs.sort((a, b) => b.likes - a.likes);\n    handleBlogs(sortedBlogs);\n  };\n\n  const handleRemoval = async () => {\n    const result = window.confirm(\"Do you really want to delete blog \".concat(blog.title, \"?\"));\n\n    if (result) {\n      const response = await blogService.remove(blog);\n      const otherBlogs = blogs.filter(otherBlogs => otherBlogs.id !== response.id);\n      handleBlogs(otherBlogs);\n    }\n  };\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  return React.createElement(\"div\", {\n    style: blogStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, blog.title), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, blog.author), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, blog.url), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, blog.likes, \" \", React.createElement(\"button\", {\n    onClick: () => increaseLikes(blog),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"like\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: () => handleRemoval(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"remove\")));\n};\n\nexport default BlogInfo;","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/src/components/BlogInfo.js"],"names":["React","useState","blogService","BlogInfo","blog","blogs","handleBlogs","user","visibleRemoval","setVisibleRemoval","hideWhenNoAuthorization","display","showWhenNoAuthorization","increaseLikes","likes","response","update","someBlogs","filter","otherBlogs","id","allBlogs","concat","sortedBlogs","sort","a","b","handleRemoval","result","window","confirm","title","remove","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","author","url"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,WAAP,MAAwB,mBAAxB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,IAAD;AAAOC,EAAAA,KAAP;AAAcC,EAAAA,WAAd;AAA2BC,EAAAA;AAA3B,CAAD,KAAsC;AAAA,oBAEPN,QAAQ,CAAC,KAAD,CAFD;AAAA;AAAA,QAE5CO,cAF4C;AAAA,QAE5BC,iBAF4B;;AAKnD,QAAMC,uBAAuB,GAAG;AAAEC,IAAAA,OAAO,EAAEH,cAAc,GAAG,MAAH,GAAY;AAArC,GAAhC;AACA,QAAMI,uBAAuB,GAAG;AAAED,IAAAA,OAAO,EAAEH,cAAc,GAAG,EAAH,GAAQ;AAAjC,GAAhC;;AAEA,QAAMK,aAAa,GAAG,YAAY;AAC9BT,IAAAA,IAAI,CAACU,KAAL,IAAc,CAAd;AACA,UAAMC,QAAQ,GAAG,MAAMb,WAAW,CAACc,MAAZ,CAAmBZ,IAAnB,CAAvB;AACA,UAAMa,SAAS,GAAGZ,KAAK,CAACa,MAAN,CAAaC,UAAU,IAAIA,UAAU,CAACC,EAAX,KAAkBL,QAAQ,CAACK,EAAtD,CAAlB;AACA,UAAMC,QAAQ,GAAGJ,SAAS,CAACK,MAAV,CAAiBP,QAAjB,CAAjB;AACA,UAAMQ,WAAW,GAAGF,QAAQ,CAACG,IAAT,CAAc,CAACC,CAAD,EAAGC,CAAH,KAAUA,CAAC,CAACZ,KAAF,GAAQW,CAAC,CAACX,KAAlC,CAApB;AACAR,IAAAA,WAAW,CAACiB,WAAD,CAAX;AACH,GAPD;;AAUA,QAAMI,aAAa,GAAG,YAAY;AAC9B,UAAMC,MAAM,GAAGC,MAAM,CAACC,OAAP,6CAAoD1B,IAAI,CAAC2B,KAAzD,OAAf;;AACA,QAAGH,MAAH,EAAU;AACN,YAAMb,QAAQ,GAAG,MAAMb,WAAW,CAAC8B,MAAZ,CAAmB5B,IAAnB,CAAvB;AACA,YAAMe,UAAU,GAAGd,KAAK,CAACa,MAAN,CAAaC,UAAU,IAAIA,UAAU,CAACC,EAAX,KAAkBL,QAAQ,CAACK,EAAtD,CAAnB;AACAd,MAAAA,WAAW,CAACa,UAAD,CAAX;AACH;AACJ,GAPD;;AASA,QAAMc,SAAS,GAAG;AACdC,IAAAA,UAAU,EAAE,EADE;AAEdC,IAAAA,WAAW,EAAE,CAFC;AAGdC,IAAAA,MAAM,EAAE,OAHM;AAIdC,IAAAA,WAAW,EAAE,CAJC;AAKdC,IAAAA,YAAY,EAAE;AALA,GAAlB;AAQA,SACA;AAAK,IAAA,KAAK,EAAEL,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI7B,IAAI,CAAC2B,KAAT,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAI3B,IAAI,CAACmC,MAAT,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAInC,IAAI,CAACoC,GAAT,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIpC,IAAI,CAACU,KAAT,OAAgB;AAAQ,IAAA,OAAO,EAAE,MAAMD,aAAa,CAACT,IAAD,CAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhB,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAE,MAAMuB,aAAa,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CALJ,CADA;AAUF,CA7CF;;AA+CA,eAAexB,QAAf","sourcesContent":["import React, {useState} from 'react'\nimport blogService from '../services/blogs'\n\nconst BlogInfo = ({blog, blogs, handleBlogs, user}) => { \n\n    const [visibleRemoval, setVisibleRemoval] = useState(false)\n\n\n    const hideWhenNoAuthorization = { display: visibleRemoval ? 'none' : '' }\n    const showWhenNoAuthorization = { display: visibleRemoval ? '' : 'none' }\n\n    const increaseLikes = async () => {\n        blog.likes += 1\n        const response = await blogService.update(blog)\n        const someBlogs = blogs.filter(otherBlogs => otherBlogs.id !== response.id)\n        const allBlogs = someBlogs.concat(response)\n        const sortedBlogs = allBlogs.sort((a,b) =>  b.likes-a.likes )\n        handleBlogs(sortedBlogs)\n    }\n\n\n    const handleRemoval = async () => {\n        const result = window.confirm(`Do you really want to delete blog ${blog.title}?`);\n        if(result){\n            const response = await blogService.remove(blog)\n            const otherBlogs = blogs.filter(otherBlogs => otherBlogs.id !== response.id)\n            handleBlogs(otherBlogs)\n        }\n    }\n\n    const blogStyle = {\n        paddingTop: 10,\n        paddingLeft: 2,\n        border: 'solid',\n        borderWidth: 1,\n        marginBottom: 5\n      }\n\n    return (\n    <div style={blogStyle}>\n        <p>{blog.title}</p>\n        <p>{blog.author}</p>\n        <p>{blog.url}</p> \n        <p>{blog.likes} <button onClick={() => increaseLikes(blog)}>like</button></p>\n        <div >\n            <button onClick={() => handleRemoval()}>remove</button>\n        </div>\n    </div>\n)}\n\nexport default BlogInfo"]},"metadata":{},"sourceType":"module"}