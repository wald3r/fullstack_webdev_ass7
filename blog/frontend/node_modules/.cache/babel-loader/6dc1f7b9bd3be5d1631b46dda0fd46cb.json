{"ast":null,"code":"import loginService from '../services/login';\nimport blogService from '../services/blogs';\nexport const loginUser = (username, password) => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username,\n      password\n    });\n    blogService.setToken(user.token);\n    console.log(user);\n    window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n    dispatch({\n      type: 'SETUSER',\n      user\n    });\n  };\n};\nexport const setUser = () => {\n  return async dispatch => {\n    const user = await loginService.login({\n      username,\n      password\n    });\n    blogService.setToken(user.token);\n    console.log(user);\n    window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n    dispatch({\n      type: 'SETUSER',\n      user\n    });\n  };\n};\nexport const removeUser = () => {\n  return async dispatch => {\n    window.localStorage.removeItem('loggedBlogappUser');\n    dispatch({\n      type: 'REMOVEUSER'\n    });\n  };\n};\n\nconst userReducer = (state = null, action) => {\n  console.log(action.type);\n\n  switch (action.type) {\n    case 'SETUSER':\n      return action.user;\n\n    case 'REMOVEUSER':\n      return null;\n\n    default:\n      return state;\n  }\n};\n\nexport default userReducer;","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/reducers/userReducer.js"],"names":["loginService","blogService","loginUser","username","password","dispatch","user","login","setToken","token","console","log","window","localStorage","setItem","JSON","stringify","type","setUser","removeUser","removeItem","userReducer","state","action"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,mBAAzB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AAEA,OAAO,MAAMC,SAAS,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAC7C,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,IAAI,GAAG,MAAMN,YAAY,CAACO,KAAb,CAAmB;AAAEJ,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAnB,CAAnB;AACAH,IAAAA,WAAW,CAACO,QAAZ,CAAqBF,IAAI,CAACG,KAA1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACAM,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,EAAiDC,IAAI,CAACC,SAAL,CAAeV,IAAf,CAAjD;AACAD,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAE,SADD;AAELX,MAAAA;AAFK,KAAD,CAAR;AAIH,GATD;AAUH,CAXM;AAaP,OAAO,MAAMY,OAAO,GAAG,MAAM;AACzB,SAAO,MAAMb,QAAN,IAAkB;AACrB,UAAMC,IAAI,GAAG,MAAMN,YAAY,CAACO,KAAb,CAAmB;AAAEJ,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,KAAnB,CAAnB;AACAH,IAAAA,WAAW,CAACO,QAAZ,CAAqBF,IAAI,CAACG,KAA1B;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACAM,IAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,EAAiDC,IAAI,CAACC,SAAL,CAAeV,IAAf,CAAjD;AACAD,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAE,SADD;AAELX,MAAAA;AAFK,KAAD,CAAR;AAIH,GATD;AAUH,CAXM;AAaP,OAAO,MAAMa,UAAU,GAAG,MAAM;AAC5B,SAAO,MAAMd,QAAN,IAAkB;AACrBO,IAAAA,MAAM,CAACC,YAAP,CAAoBO,UAApB,CAA+B,mBAA/B;AACAf,IAAAA,QAAQ,CAAC;AACLY,MAAAA,IAAI,EAAE;AADD,KAAD,CAAR;AAGH,GALD;AAMH,CAPM;;AASP,MAAMI,WAAW,GAAG,CAACC,KAAK,GAAG,IAAT,EAAeC,MAAf,KAA0B;AAE1Cb,EAAAA,OAAO,CAACC,GAAR,CAAYY,MAAM,CAACN,IAAnB;;AACA,UAAQM,MAAM,CAACN,IAAf;AACA,SAAK,SAAL;AACI,aAAOM,MAAM,CAACjB,IAAd;;AACJ,SAAK,YAAL;AACI,aAAO,IAAP;;AACJ;AACI,aAAOgB,KAAP;AANJ;AAQH,CAXD;;AAaA,eAAeD,WAAf","sourcesContent":["import loginService from '../services/login'\nimport blogService from '../services/blogs'\n\nexport const loginUser = (username, password) => {\n    return async dispatch => {\n        const user = await loginService.login({ username, password })\n        blogService.setToken(user.token)\n        console.log(user)\n        window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n        dispatch({\n            type: 'SETUSER',\n            user\n        })\n    }\n}\n\nexport const setUser = () => {\n    return async dispatch => {\n        const user = await loginService.login({ username, password })\n        blogService.setToken(user.token)\n        console.log(user)\n        window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user))\n        dispatch({\n            type: 'SETUSER',\n            user\n        })\n    }\n}\n\nexport const removeUser = () => {\n    return async dispatch => {\n        window.localStorage.removeItem('loggedBlogappUser')\n        dispatch({\n            type: 'REMOVEUSER',\n        })\n    }\n}\n\nconst userReducer = (state = null, action) => {\n\n    console.log(action.type)\n    switch (action.type){\n    case 'SETUSER':\n        return action.user\n    case 'REMOVEUSER':\n        return null\n    default:\n        return state\n    }\n}\n\nexport default userReducer"]},"metadata":{},"sourceType":"module"}