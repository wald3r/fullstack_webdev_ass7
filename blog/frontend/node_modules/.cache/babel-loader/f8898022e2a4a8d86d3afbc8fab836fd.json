{"ast":null,"code":"import _slicedToArray from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Home.js\";\nimport React, { useState } from 'react';\nimport { handleNotification } from '../reducers/notificationReducer';\nimport { initBlogs, addNewBlog, likeBlog, removeBlog } from '../reducers/blogReducer';\nimport { handleError } from '../reducers/errorReducer';\nimport { connect } from 'react-redux';\nimport AddBlogForm from './AddBlogForm';\nimport Togglable from './Togglable';\nimport Blog from './Blog';\n\nconst Home = props => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        title = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        author = _useState4[0],\n        setAuthor = _useState4[1];\n\n  const _useState5 = useState(''),\n        _useState6 = _slicedToArray(_useState5, 2),\n        url = _useState6[0],\n        setUrl = _useState6[1];\n\n  const handleAddBlog = event => {\n    event.preventDefault();\n    console.log('adding blog', title, author, url);\n    const newBlog = {\n      title: title,\n      author: author,\n      url: url\n    };\n    props.addNewBlog(newBlog);\n    props.handleNotification(\"a new blog \".concat(title, \" by \").concat(author, \" added\"), 5000);\n    setAuthor('');\n    setTitle('');\n    setUrl('');\n    window.location.reload();\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(Togglable, {\n    buttonLabel: \"new Blog\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(AddBlogForm, {\n    author: author,\n    title: title,\n    url: url,\n    handleAuthorChange: ({\n      target\n    }) => setAuthor(target.value),\n    handleTitleChange: ({\n      target\n    }) => setTitle(target.value),\n    handleUrlChange: ({\n      target\n    }) => setUrl(target.value),\n    handleAddBlog: handleAddBlog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }))), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"added blogs\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, props.blogs.map(blog => React.createElement(Blog, {\n    key: blog.id,\n    blog: blog,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    blogs: state.blogs,\n    notification: state.notification,\n    error: state.error,\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  initBlogs,\n  addNewBlog,\n  likeBlog,\n  removeBlog,\n  handleNotification,\n  handleError\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Home);","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Home.js"],"names":["React","useState","handleNotification","initBlogs","addNewBlog","likeBlog","removeBlog","handleError","connect","AddBlogForm","Togglable","Blog","Home","props","title","setTitle","author","setAuthor","url","setUrl","handleAddBlog","event","preventDefault","console","log","newBlog","window","location","reload","target","value","blogs","map","blog","id","mapStateToProps","state","notification","error","user","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { handleNotification } from '../reducers/notificationReducer'\nimport { initBlogs, addNewBlog, likeBlog, removeBlog } from '../reducers/blogReducer'\nimport { handleError } from '../reducers/errorReducer'\nimport { connect } from 'react-redux'\nimport AddBlogForm from './AddBlogForm'\nimport Togglable from './Togglable'\nimport Blog from './Blog'\n\n\nconst Home = ( props ) => {\n\n    const [title, setTitle] = useState('')\n    const [author, setAuthor] = useState('')\n    const [url, setUrl] = useState('')\n\n\n    const handleAddBlog = event => {\n        event.preventDefault()\n        console.log('adding blog', title, author, url)\n\n        const newBlog = {\n            title: title,\n            author: author,\n            url: url,\n        }\n        props.addNewBlog(newBlog)\n        props.handleNotification(`a new blog ${title} by ${author} added`, 5000)\n        setAuthor('')\n        setTitle('')\n        setUrl('')\n        window.location.reload()\n\n    }\n\n\n    return(\n        <div>\n            <div>\n                <Togglable buttonLabel='new Blog'>\n                    <AddBlogForm\n                        author={author}\n                        title={title}\n                        url={url}\n                        handleAuthorChange={({ target }) => setAuthor(target.value)}\n                        handleTitleChange={({ target }) => setTitle(target.value)}\n                        handleUrlChange={({ target }) => setUrl(target.value)}\n                        handleAddBlog={handleAddBlog}\n                    />\n                </Togglable>\n            </div>\n            <br></br>\n            <h2>added blogs</h2>\n            <ul>\n                {props.blogs.map(blog =>\n                    <Blog\n                        key={blog.id}\n                        blog={blog}/> )}\n            </ul>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        blogs: state.blogs,\n        notification: state.notification,\n        error: state.error,\n        user: state.user,\n    }\n}\n\nconst mapDispatchToProps = {\n    initBlogs,\n    addNewBlog,\n    likeBlog,\n    removeBlog,\n    handleNotification,\n    handleError,\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)"]},"metadata":{},"sourceType":"module"}