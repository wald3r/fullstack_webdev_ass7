{"ast":null,"code":"import _objectWithoutProperties from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Login.js\";\nimport React from 'react';\nimport LoginForm from './LoginForm';\nimport { connect } from 'react-redux';\nimport { handleNotification } from '../reducers/notificationReducer';\nimport { handleError } from '../reducers/errorReducer';\nimport { loginUser } from '../reducers/userReducer';\n\nconst Login = (_ref) => {\n  let handleNotification = _ref.handleNotification,\n      username = _ref.username,\n      password = _ref.password,\n      handleError = _ref.handleError,\n      resetusername = _ref.resetusername,\n      resetpasswd = _ref.resetpasswd,\n      loginUser = _ref.loginUser,\n      props = _objectWithoutProperties(_ref, [\"handleNotification\", \"username\", \"password\", \"handleError\", \"resetusername\", \"resetpasswd\", \"loginUser\"]);\n\n  const handleLogin = async event => {\n    event.preventDefault();\n    console.log('loggin in with: ', username.value, password.value);\n\n    try {\n      loginUser(username.value, password.value);\n      handleNotification('Login successfull!', 5000);\n      resetusername();\n      resetpasswd();\n      props.history.push('/');\n    } catch (exception) {\n      handleError('Login failed!', 5000);\n      resetusername();\n      resetpasswd();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(LoginForm, {\n    username: username,\n    password: password,\n    handleSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    notification: state.notification,\n    error: state.error,\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  handleNotification,\n  handleError,\n  loginUser\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Login.js"],"names":["React","LoginForm","connect","handleNotification","handleError","loginUser","Login","username","password","resetusername","resetpasswd","props","handleLogin","event","preventDefault","console","log","value","history","push","exception","mapStateToProps","state","notification","error","user","mapDispatchToProps"],"mappings":";;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,iCAAnC;AACA,SAASC,WAAT,QAA4B,0BAA5B;AACA,SAASC,SAAT,QAA0B,yBAA1B;;AAEA,MAAMC,KAAK,GAAG,UAAgH;AAAA,MAA5GH,kBAA4G,QAA5GA,kBAA4G;AAAA,MAAxFI,QAAwF,QAAxFA,QAAwF;AAAA,MAA9EC,QAA8E,QAA9EA,QAA8E;AAAA,MAApEJ,WAAoE,QAApEA,WAAoE;AAAA,MAAvDK,aAAuD,QAAvDA,aAAuD;AAAA,MAAxCC,WAAwC,QAAxCA,WAAwC;AAAA,MAA3BL,SAA2B,QAA3BA,SAA2B;AAAA,MAAbM,KAAa;;AAG1H,QAAMC,WAAW,GAAG,MAAMC,KAAN,IAAe;AAC/BA,IAAAA,KAAK,CAACC,cAAN;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCT,QAAQ,CAACU,KAAzC,EAAgDT,QAAQ,CAACS,KAAzD;;AACA,QAAG;AACCZ,MAAAA,SAAS,CAACE,QAAQ,CAACU,KAAV,EAAiBT,QAAQ,CAACS,KAA1B,CAAT;AACAd,MAAAA,kBAAkB,CAAC,oBAAD,EAAuB,IAAvB,CAAlB;AACAM,MAAAA,aAAa;AACbC,MAAAA,WAAW;AACXC,MAAAA,KAAK,CAACO,OAAN,CAAcC,IAAd,CAAmB,GAAnB;AAEH,KAPD,CAOC,OAAMC,SAAN,EAAgB;AACbhB,MAAAA,WAAW,CAAC,eAAD,EAAkB,IAAlB,CAAX;AACAK,MAAAA,aAAa;AACbC,MAAAA,WAAW;AACd;AAEJ,GAhBD;;AAkBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AACI,IAAA,QAAQ,EAAEH,QADd;AAEI,IAAA,QAAQ,EAAEC,QAFd;AAGI,IAAA,YAAY,EAAEI,WAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AASH,CA9BD;;AAgCA,MAAMS,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHC,IAAAA,YAAY,EAAED,KAAK,CAACC,YADjB;AAEHC,IAAAA,KAAK,EAAEF,KAAK,CAACE,KAFV;AAGHC,IAAAA,IAAI,EAAEH,KAAK,CAACG;AAHT,GAAP;AAKH,CAND;;AAQA,MAAMC,kBAAkB,GAAG;AAEvBvB,EAAAA,kBAFuB;AAGvBC,EAAAA,WAHuB;AAIvBC,EAAAA;AAJuB,CAA3B;AAQA,eAAeH,OAAO,CAACmB,eAAD,EAAkBK,kBAAlB,CAAP,CAA6CpB,KAA7C,CAAf","sourcesContent":["\nimport React from 'react'\nimport LoginForm from './LoginForm'\nimport { connect } from 'react-redux'\nimport { handleNotification } from '../reducers/notificationReducer'\nimport { handleError } from '../reducers/errorReducer'\nimport { loginUser } from '../reducers/userReducer'\n\nconst Login = ( { handleNotification, username, password, handleError, resetusername, resetpasswd, loginUser, ...props } ) => {\n\n\n    const handleLogin = async event => {\n        event.preventDefault()\n        console.log('loggin in with: ', username.value, password.value)\n        try{\n            loginUser(username.value, password.value)\n            handleNotification('Login successfull!', 5000)\n            resetusername()\n            resetpasswd()\n            props.history.push('/')\n            \n        }catch(exception){\n            handleError('Login failed!', 5000)\n            resetusername()\n            resetpasswd()\n        }\n\n    }\n\n    return(\n        <div>\n            <LoginForm\n                username={username}\n                password={password}\n                handleSubmit={handleLogin}\n            />\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        notification: state.notification,\n        error: state.error,\n        user: state.user\n    }\n}\n\nconst mapDispatchToProps = {\n\n    handleNotification,\n    handleError,\n    loginUser,\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}