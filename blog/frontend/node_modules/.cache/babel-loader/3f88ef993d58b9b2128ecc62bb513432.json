{"ast":null,"code":"var _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Login.js\";\nimport React from 'react';\nimport LoginForm from './components/LoginForm';\nimport loginService from './services/login';\n\nconst Login = () => {\n  const handleLogin = async event => {\n    event.preventDefault();\n\n    try {\n      const newUser = await loginService.login({\n        username: username.value,\n        password: password.value\n      }); //await props.setUser(username, password)\n\n      setUser(newUser);\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(newUser));\n      blogService.setToken(newUser.token);\n      props.handleNotification('Login successfull!', 5000);\n      resetusername();\n      resetpasswd();\n    } catch (exception) {\n      props.handleError('Login failed!', 5000);\n      resetusername();\n      resetpasswd();\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, React.createElement(LoginForm, {\n    username: username,\n    password: password,\n    handleSubmit: handleLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }));\n};\n\nexport default Login;","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/Login.js"],"names":["React","LoginForm","loginService","Login","handleLogin","event","preventDefault","newUser","login","username","value","password","setUser","window","localStorage","setItem","JSON","stringify","blogService","setToken","token","props","handleNotification","resetusername","resetpasswd","exception","handleError"],"mappings":";AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,YAAP,MAAyB,kBAAzB;;AAGA,MAAMC,KAAK,GAAG,MAAM;AAEhB,QAAMC,WAAW,GAAG,MAAMC,KAAN,IAAe;AAC/BA,IAAAA,KAAK,CAACC,cAAN;;AACA,QAAG;AACC,YAAMC,OAAO,GAAG,MAAML,YAAY,CAACM,KAAb,CAAmB;AAAEC,QAAAA,QAAQ,EAAEA,QAAQ,CAACC,KAArB;AAA4BC,QAAAA,QAAQ,EAAEA,QAAQ,CAACD;AAA/C,OAAnB,CAAtB,CADD,CAEC;;AACAE,MAAAA,OAAO,CAACL,OAAD,CAAP;AACAM,MAAAA,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,mBAA5B,EAAiDC,IAAI,CAACC,SAAL,CAAeV,OAAf,CAAjD;AACAW,MAAAA,WAAW,CAACC,QAAZ,CAAqBZ,OAAO,CAACa,KAA7B;AACAC,MAAAA,KAAK,CAACC,kBAAN,CAAyB,oBAAzB,EAA+C,IAA/C;AACAC,MAAAA,aAAa;AACbC,MAAAA,WAAW;AAEd,KAVD,CAUC,OAAMC,SAAN,EAAgB;AACbJ,MAAAA,KAAK,CAACK,WAAN,CAAkB,eAAlB,EAAmC,IAAnC;AACAH,MAAAA,aAAa;AACbC,MAAAA,WAAW;AACd;AAEJ,GAlBD;;AAoBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,SAAD;AACI,IAAA,QAAQ,EAAEf,QADd;AAEI,IAAA,QAAQ,EAAEE,QAFd;AAGI,IAAA,YAAY,EAAEP,WAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ;AASH,CA/BD;;AAiCA,eAAeD,KAAf","sourcesContent":["\nimport React from 'react'\nimport LoginForm from './components/LoginForm'\nimport loginService from './services/login'\n\n\nconst Login = () => {\n\n    const handleLogin = async event => {\n        event.preventDefault()\n        try{\n            const newUser = await loginService.login({ username: username.value, password: password.value })\n            //await props.setUser(username, password)\n            setUser(newUser)\n            window.localStorage.setItem('loggedBlogappUser', JSON.stringify(newUser))\n            blogService.setToken(newUser.token)\n            props.handleNotification('Login successfull!', 5000)\n            resetusername()\n            resetpasswd()\n\n        }catch(exception){\n            props.handleError('Login failed!', 5000)\n            resetusername()\n            resetpasswd()\n        }\n\n    }\n\n    return(\n        <div>\n            <LoginForm\n                username={username}\n                password={password}\n                handleSubmit={handleLogin}\n            />\n        </div>\n    )\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}