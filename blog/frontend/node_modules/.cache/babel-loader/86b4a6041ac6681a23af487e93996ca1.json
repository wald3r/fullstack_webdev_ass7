{"ast":null,"code":"import _objectWithoutProperties from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/BlogInfo.js\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { likeBlog, removeBlog } from '../reducers/blogReducer';\nimport { handleNotification } from '../reducers/notificationReducer';\n\nconst BlogInfo = (_ref) => {\n  let blog = _ref.blog,\n      props = _objectWithoutProperties(_ref, [\"blog\"]);\n\n  const hideWhenNoAuthorization = {\n    display: props.user.id === blog.user.id ? '' : 'none'\n  };\n\n  const handleLikes = () => {\n    props.likeBlog(blog);\n    props.handleNotification(\"you liked blog \".concat(blog.title, \" from author \").concat(blog.author), 5000);\n  };\n\n  const handleRemoval = () => {\n    const result = window.confirm(\"Do you really want to delete blog \".concat(blog.title, \"?\"));\n\n    if (result) {\n      props.removeBlog(blog);\n      props.handleNotification(\"blog \".concat(blog.title, \" by \").concat(blog.author, \" got deleted\"), 5000);\n    }\n  };\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5\n  };\n  return React.createElement(\"li\", {\n    style: blogStyle,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, blog.title), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, blog.author), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, blog.url), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, blog.likes, \" \", React.createElement(\"button\", {\n    onClick: handleLikes,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"like\")), React.createElement(\"div\", {\n    style: hideWhenNoAuthorization,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: handleRemoval,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"remove\")));\n};\n\nconst mapStateToProps = state => {\n  return {\n    blogs: state.blogs,\n    notification: state.notification,\n    error: state.error,\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  likeBlog,\n  removeBlog,\n  handleNotification\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogInfo);","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass7/blog/frontend/src/components/BlogInfo.js"],"names":["React","connect","likeBlog","removeBlog","handleNotification","BlogInfo","blog","props","hideWhenNoAuthorization","display","user","id","handleLikes","title","author","handleRemoval","result","window","confirm","blogStyle","paddingTop","paddingLeft","border","borderWidth","marginBottom","url","likes","mapStateToProps","state","blogs","notification","error","mapDispatchToProps"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,QAAT,EAAmBC,UAAnB,QAAqC,yBAArC;AACA,SAASC,kBAAT,QAAmC,iCAAnC;;AACA,MAAMC,QAAQ,GAAG,UAAwB;AAAA,MAArBC,IAAqB,QAArBA,IAAqB;AAAA,MAAZC,KAAY;;AAErC,QAAMC,uBAAuB,GAAG;AAAEC,IAAAA,OAAO,EAAEF,KAAK,CAACG,IAAN,CAAWC,EAAX,KAAkBL,IAAI,CAACI,IAAL,CAAUC,EAA5B,GAAiC,EAAjC,GAAsC;AAAjD,GAAhC;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACtBL,IAAAA,KAAK,CAACL,QAAN,CAAeI,IAAf;AACAC,IAAAA,KAAK,CAACH,kBAAN,0BAA2CE,IAAI,CAACO,KAAhD,0BAAqEP,IAAI,CAACQ,MAA1E,GAAoF,IAApF;AACH,GAHD;;AAMA,QAAMC,aAAa,GAAG,MAAM;AACxB,UAAMC,MAAM,GAAGC,MAAM,CAACC,OAAP,6CAAoDZ,IAAI,CAACO,KAAzD,OAAf;;AACA,QAAGG,MAAH,EAAU;AACNT,MAAAA,KAAK,CAACJ,UAAN,CAAiBG,IAAjB;AACAC,MAAAA,KAAK,CAACH,kBAAN,gBAAiCE,IAAI,CAACO,KAAtC,iBAAkDP,IAAI,CAACQ,MAAvD,mBAA6E,IAA7E;AACH;AACJ,GAND;;AAQA,QAAMK,SAAS,GAAG;AACdC,IAAAA,UAAU,EAAE,EADE;AAEdC,IAAAA,WAAW,EAAE,CAFC;AAGdC,IAAAA,MAAM,EAAE,OAHM;AAIdC,IAAAA,WAAW,EAAE,CAJC;AAKdC,IAAAA,YAAY,EAAE;AALA,GAAlB;AAQA,SACI;AAAI,IAAA,KAAK,EAAEL,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIb,IAAI,CAACO,KAAT,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIP,IAAI,CAACQ,MAAT,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIR,IAAI,CAACmB,GAAT,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAInB,IAAI,CAACoB,KAAT,OAAgB;AAAQ,IAAA,OAAO,EAAEd,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAhB,CAJJ,EAKI;AAAK,IAAA,KAAK,EAAEJ,uBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,OAAO,EAAEO,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CALJ,CADJ;AAWH,CArCD;;AAuCA,MAAMY,eAAe,GAAIC,KAAD,IAAW;AAC/B,SAAO;AACHC,IAAAA,KAAK,EAAED,KAAK,CAACC,KADV;AAEHC,IAAAA,YAAY,EAAEF,KAAK,CAACE,YAFjB;AAGHC,IAAAA,KAAK,EAAEH,KAAK,CAACG,KAHV;AAIHrB,IAAAA,IAAI,EAAEkB,KAAK,CAAClB;AAJT,GAAP;AAMH,CAPD;;AASA,MAAMsB,kBAAkB,GAAG;AACvB9B,EAAAA,QADuB;AAEvBC,EAAAA,UAFuB;AAGvBC,EAAAA;AAHuB,CAA3B;AAMA,eAAeH,OAAO,CAAC0B,eAAD,EAAkBK,kBAAlB,CAAP,CAA6C3B,QAA7C,CAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport { likeBlog, removeBlog } from '../reducers/blogReducer'\nimport { handleNotification } from '../reducers/notificationReducer'\nconst BlogInfo = ({ blog, ...props }) => {\n\n    const hideWhenNoAuthorization = { display: props.user.id === blog.user.id ? '' : 'none' }\n\n    const handleLikes = () => {\n        props.likeBlog(blog)\n        props.handleNotification(`you liked blog ${blog.title} from author ${blog.author}`, 5000)\n    }\n\n\n    const handleRemoval = () => {\n        const result = window.confirm(`Do you really want to delete blog ${blog.title}?`)\n        if(result){\n            props.removeBlog(blog)\n            props.handleNotification(`blog ${blog.title} by ${blog.author} got deleted`, 5000)\n        }\n    }\n\n    const blogStyle = {\n        paddingTop: 10,\n        paddingLeft: 2,\n        border: 'solid',\n        borderWidth: 1,\n        marginBottom: 5\n    }\n\n    return (\n        <li style={blogStyle}>\n            <p>{blog.title}</p>\n            <p>{blog.author}</p>\n            <p>{blog.url}</p>\n            <p>{blog.likes} <button onClick={handleLikes}>like</button></p>\n            <div style={hideWhenNoAuthorization}>\n                <button onClick={handleRemoval}>remove</button>\n            </div>\n        </li>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        blogs: state.blogs,\n        notification: state.notification,\n        error: state.error,\n        user: state.user,\n    }\n}\n\nconst mapDispatchToProps = {\n    likeBlog,\n    removeBlog,\n    handleNotification,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlogInfo)"]},"metadata":{},"sourceType":"module"}