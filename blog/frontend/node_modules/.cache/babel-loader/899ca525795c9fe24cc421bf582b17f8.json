{"ast":null,"code":"import _slicedToArray from \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/src/App.js\";\nimport React, { useState } from 'react';\nimport loginService from './services/login';\nimport Blog from './components/Blog';\nimport blogService from './services/blogs';\n\nconst App = () => {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        username = _useState2[0],\n        setUsername = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        user = _useState6[0],\n        setUser = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        blogs = _useState8[0],\n        setBlogs = _useState8[1];\n\n  const handleLogin = async event => {\n    event.preventDefault();\n    console.log('loggin in with', username, password);\n\n    try {\n      const user = await loginService.login(username, password);\n      window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user));\n      setBlogs(blogService.getAll());\n      setUser(user);\n      setPassword('');\n      setUsername('');\n    } catch (exception) {}\n  };\n\n  const LoginForm = () => {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"log in to application\"), React.createElement(\"form\", {\n      onSubmit: handleLogin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"username \", React.createElement(\"input\", {\n      value: username,\n      onChange: ({\n        target\n      }) => setUsername(target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"password \", React.createElement(\"input\", {\n      value: password,\n      type: \"Password\",\n      name: \"Password\",\n      onChange: ({\n        target\n      }) => setPassword(target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"login\")));\n  };\n\n  if (user === null) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(LoginForm, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }));\n  } else {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, blogs.map(blog => React.createElement(Blog, {\n      key: blog.id,\n      blog: blog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })));\n  }\n};\n\nexport default App;","map":{"version":3,"sources":["/home/walder/workspaces/fullstack_webdev/fullstack_webdev_ass5/frontend/src/App.js"],"names":["React","useState","loginService","Blog","blogService","App","username","setUsername","password","setPassword","user","setUser","blogs","setBlogs","handleLogin","event","preventDefault","console","log","login","window","localStorage","setItem","JSON","stringify","getAll","exception","LoginForm","target","value","map","blog","id"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport loginService from './services/login'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\n\n\nconst App = () => {\n\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [user, setUser] = useState(null)\n    const [blogs, setBlogs] = useState([])\n\n\n\n\n    const handleLogin = async event => {\n        event.preventDefault()\n        console.log('loggin in with', username, password)\n        try{\n            const user = await loginService.login(username, password)\n            window.localStorage.setItem('loggedBlogappUser', JSON.stringify(user)) \n\n            setBlogs(blogService.getAll())\n            setUser(user)\n            setPassword('')\n            setUsername('')\n\n        }catch(exception){\n\n        }\n\n    }\n\n\n\n    const LoginForm = () => {\n        return (\n            <div>\n                <h1>log in to application</h1>\n                <form onSubmit={handleLogin}> \n                    <div>\n                    username <input value={username}\n                                    onChange={({ target }) => setUsername(target.value)}\n                             />\n                    </div>\n                    <div> \n                    password <input value={password}\n                                    type=\"Password\"\n                                    name=\"Password\"\n                                    onChange={({ target }) => setPassword(target.value)}\n                            />\n                    </div>\n                    <button type=\"submit\">login</button>\n                </form>\n            </div>\n        )\n    }\n\n\n\n   if(user === null){\n       return(\n           <div>\n               <LoginForm />\n           </div>\n       )\n   }else{\n       return(\n        <div>\n        {blogs.map(blog => <Blog key={blog.id} blog={blog} /> )}\n        </div>\n       )\n   }\n}\n\n\nexport default App"]},"metadata":{},"sourceType":"module"}